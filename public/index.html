<body>
    <header>
        <h1>âœ¨ Luminous AI</h1>
        <h2>Your Radiant Beauty Companion</h2>
    </header>
    <main>
        <section class="hero">
            <h3>Welcome to Your Beauty Journey</h3>
            <p>Get personalized AI-powered beauty recommendations from global experts</p>
            <div class="ai-assistant">
                <img src="ai-assistant-icon.png" alt="AI Assistant">
                <div class="sparkles">âœ¨</div>
            </div>
            <button class="cta-button">ğŸŒŸ Start Beauty Consultation</button>
        </section>
        <section class="features">
            <div class="feature-card" data-prompt="Provide anti-aging skincare advice">
                <span class="icon">â­</span>
                <span class="icon">ğŸ§˜</span>
                <h4>Anti-aging</h4>
                <p>Wellness & skincare</p>
            </div>
            <div class="feature-card" data-prompt="Recommend eye care products">
                <span class="icon">ğŸ‘ï¸</span>
                <h4>Eye Care</h4>
                <p>500+ eye products</p>
            </div>
            <div class="feature-card" data-prompt="Provide AI-based skin analysis recommendations">
                <span class="icon">â­</span>
                <span class="icon">âœ¨</span>
                <h4>Skin Analysis</h4>
                <p>AI recommendations</p>
            </div>
            <div class="feature-card" data-prompt="Provide facial analysis and skincare tips">
                <span class="icon">â­</span>
                <span class="icon">ğŸ˜Š</span>
                <h4>Facial Analysis</h4>
                <p>AI face scanning</p>
            </div>
            <div class="feature-card" data-prompt="Recommend K-Beauty products">
                <span class="icon">ğŸŒ¸</span>
                <h4>K-Beauty</h4>
                <p>600+ Korean products</p>
            </div>
            <div class="feature-card" data-prompt="Recommend tanning products">
                <span class="icon">â˜€ï¸</span>
                <h4>Tanning</h4>
                <p>400+ tanning products</p>
            </div>
            <div class="feature-card" data-prompt="Recommend eyelash products">
                <span class="icon">ğŸ‘ï¸â€ğŸ—¨ï¸</span>
                <h4>Eyelashes</h4>
                <p>400+ lash products</p>
            </div>
            <div class="feature-card basket">
                <span class="icon">ğŸ›’</span>
                <h4>Basket</h4>
                <p>0 items</p>
                <span class="basket-count">0</span>
            </div>
        </section>
        <section class="catalog">
            <h3>Beauty Catalog</h3>
            <p>3,100+ Products from Around the World</p>
            <div class="catalog-card">
                <span class="icon">ğŸŒ</span>
                <h4>Global Beauty Products</h4>
                <p>Discover products from around the world with AI-powered recommendations</p>
            </div>
        </section>
        <section class="products">
            <h3>Global Beauty Finds</h3>
            <p>Curated products from around the world</p>
            <div class="filters">
                <button class="filter active">All Regions</button>
                <button class="filter">Mexico</button>
                <button class="filter">France</button>
                <button class="filter">Germany</button>
                <button class="filter">China</button>
                <button class="filter">Russia</button>
                <button class="filter">South America</button>
            </div>
            <div class="product-grid">
                <div class="product-card">
                    <img src="mexican-aloe-vera-gel.jpg" alt="Mexican Aloe Vera Gel">
                    <h4>Mexican Aloe Vera Gel</h4>
                    <p>Premium skincare from Mexico</p>
                    <div class="product-info">
                        <span>$25 USD</span>
                        <button class="add-button">Add</button>
                    </div>
                </div>
                <div class="product-card">
                    <img src="french-rose-serum.jpg" alt="French Rose Serum">
                    <h4>French Rose Serum</h4>
                    <p>Luxury skincare from France</p>
                    <div class="product-info">
                        <span>â‚¬45</span>
                        <button class="add-button">Add</button>
                    </div>
                </div>
                <div class="product-card">
                    <img src="german-vitamin-c-cream.jpg" alt="German Vitamin C Cream">
                    <h4>German Vitamin C Cream</h4>
                    <p>Scientific skincare from Germany</p>
                    <div class="product-info">
                        <span>â‚¬35</span>
                        <button class="add-button">Add</button>
                    </div>
                </div>
                <div class="product-card">
                    <img src="chinese-ginseng-mask.jpg" alt="Chinese Ginseng Mask">
                    <h4>Chinese Ginseng Mask</h4>
                    <p>Traditional beauty from China</p>
                    <div class="product-info">
                        <span>Â¥180</span>
                        <button class="add-button">Add</button>
                    </div>
                </div>
            </div>
        </section>
        <div id="chat-modal" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.5); z-index: 1000; max-width: 90%; width: 400px;">
            <h3>Beauty Consultation</h3>
            <div id="chat-messages" style="max-height: 300px; overflow-y: auto; margin-bottom: 10px;"></div>
            <input id="chat-input" type="text" placeholder="Ask about beauty products..." style="width: 100%; padding: 10px; margin-bottom: 10px;">
            <button onclick="sendMessage()" style="padding: 10px; width: 100%;">Send</button>
            <button onclick="closeModal()" style="padding: 10px; width: 100%; margin-top: 10px;">Close</button>
        </div>
    </main>
    <footer>
        <nav>
            <a href="index.html" class="active">ğŸ  Home</a>
            <a href="signin.html">ğŸ”‘ Sign In</a>
            <a href="create-account.html">ğŸ‘¤ Create Account</a>
            <a href="catalog.html">ğŸŒ Catalog</a>
            <a href="chat.html">ğŸ’¬ Ask Me</a>
        </nav>
    </footer>
    <script>
        const cards = document.querySelectorAll('.feature-card:not(.basket)');
        const modal = document.getElementById('chat-modal');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        let currentPrompt = '';

        cards.forEach(card => {
            card.addEventListener('click', () => {
                currentPrompt = card.getAttribute('data-prompt');
                modal.style.display = 'block';
                chatMessages.innerHTML = '';
                sendInitialMessage(currentPrompt);
            });
        });

        function closeModal() {
            modal.style.display = 'none';
        }

        async function sendInitialMessage(prompt) {
            try {
                chatMessages.innerHTML += '<p><strong>You:</strong> ' + prompt + '</p>';
                const response = await fetch('https://beauty-ai-backend.onrender.com/api/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message: prompt })
                });
                const data = await response.json();
                if (data.error) {
                    chatMessages.innerHTML += '<p><strong>AI:</strong> Error: ' + data.error + '</p>';
                } else {
                    chatMessages.innerHTML += '<p><strong>AI:</strong> ' + data.reply + '</p>';
                }
                chatMessages.scrollTop = chatMessages.scrollHeight;
            } catch (error) {
                chatMessages.innerHTML += '<p><strong>AI:</strong> Error connecting to server.</p>';
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }

        async function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;
            chatInput.value = '';
            chatMessages.innerHTML += '<p><strong>You:</strong> ' + message + '</p>';
            try {
                const response = await fetch('https://beauty-ai-backend.onrender.com/api/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message })
                });
                const data = await response.json();
                if (data.error) {
                    chatMessages.innerHTML += '<p><strong>AI:</strong> Error: ' + data.error + '</p>';
                } else {
                    chatMessages.innerHTML += '<p><strong>AI:</strong> ' + data.reply + '</p>';
                }
                chatMessages.scrollTop = chatMessages.scrollHeight;
            } catch (error) {
                chatMessages.innerHTML += '<p><strong>AI:</strong> Error connecting to server.</p>';
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }
    </script>
</body>
