<body>
    <header>
        <h1>✨ Luminous AI</h1>
        <h2>Your Radiant Beauty Companion</h2>
    </header>
    <main>
        <section class="hero">
            <h3>Welcome to Your Beauty Journey</h3>
            <p>Get personalized AI-powered beauty recommendations from global experts</p>
            <div class="ai-assistant">
                <img src="ai-assistant-icon.png" alt="AI Assistant">
                <div class="sparkles">✨</div>
            </div>
            <button class="cta-button">🌟 Start Beauty Consultation</button>
        </section>
        <section class="chat-area">
            <h3>Beauty Consultation</h3>
            <div id="chat-messages" style="max-height: 400px; overflow-y: auto; margin-bottom: 10px; border: 1px solid #ccc; padding: 10px;"></div>
            <input id="chat-input" type="text" placeholder="Ask about beauty products..." style="width: 100%; padding: 10px; margin-bottom: 10px;">
            <button onclick="sendMessage()" style="padding: 10px; width: 100%;">Send</button>
        </section>
    </main>
    <footer>
        <nav>
            <a href="index.html">🏠 Home</a>
            <a href="signin.html">🔑 Sign In</a>
            <a href="create-account.html">👤 Create Account</a>
            <a href="catalog.html">🌍 Catalog</a>
            <a href="chat.html" class="active">💬 Ask Me</a>
        </nav>
    </footer>
    <script>
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');

        async function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;
            chatInput.value = '';
            chatMessages.innerHTML += '<p><strong>You:</strong> ' + message + '</p>';
            try {
                const response = await fetch('https://beauty-ai-backend.onrender.com/api/chat', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ message })
                });
                const data = await response.json();
                if (data.error) {
                    chatMessages.innerHTML += '<p><strong>AI:</strong> Error: ' + data.error + '</p>';
                } else {
                    chatMessages.innerHTML += '<p><strong>AI:</strong> ' + data.reply + '</p>';
                }
                chatMessages.scrollTop = chatMessages.scrollHeight;
            } catch (error) {
                chatMessages.innerHTML += '<p><strong>AI:</strong> Error connecting to server.</p>';
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
        }

        // Handle Enter key for sending messages
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
    </script>
</body>
